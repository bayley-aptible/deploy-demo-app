<!DOCTYPE html>
<html lang="en">
  <head>
    <title>bayley-demo</title>
    <script src="https://use.typekit.net/pqi8lpw.js"></script>
    <script>try { Typekit.load({ async: false }); } catch(e) {}</script>
    <link rel="stylesheet" href="static/all.css" />
  </head>
  <body>
    <header>
      <svg class="aptible-mark " height="35px" viewBox="0 0 139 35" width="139px">
        <defs>
          <linearGradient id="linearGradient-2" x1="50%" x2="50%" y1="0%" y2="100%">
          <stop offset="0%" stop-color="#FFFFFF"></stop>
          <stop offset="100%" stop-color="#C0CDE2"></stop>
          </linearGradient>
        </defs>
        <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="none">
          <g class="aptible-mark__gradient" fill="url(#linearGradient-2)">
          <path d="M50.6871594,19.2724074 C47.7601581,19.2724074 45.4920577,19.9614815 45.4920577,22.0740741 C45.4920577,23.4946296 46.4431005,24.1861111 47.6870296,24.1861111 C49.0407444,24.1861111 50.2113589,23.2762963 50.5777458,22.1468519 C50.6505021,21.8559259 50.6871594,21.5287037 50.6871594,21.2005556 L50.6871594,19.2724074 L50.6871594,19.2724074 Z M56.0648033,23.3844444 C56.0648033,25.06 56.1377458,26.697963 56.3575035,27.6811111 L51.34513,27.6811111 L51.0165169,25.8968519 L50.9069171,25.8968519 C49.7361166,27.3183333 47.9066012,28.0812963 45.7847578,28.0812963 C42.1629426,28.0812963 40.0042558,25.4607407 40.0042558,22.6205556 C40.0042558,17.9959259 44.1753723,15.8122222 50.5036869,15.8122222 L50.5036869,15.5935185 C50.5036869,14.6475926 49.9917873,13.2996296 47.2480724,13.2996296 C45.4187431,13.2996296 43.4800001,13.9181481 42.3086414,14.6112963 L41.2848422,11.0792593 C42.5285851,10.3877778 44.9795999,9.47740741 48.2357726,9.47740741 C54.1991889,9.47740741 56.0648033,12.9727778 56.0648033,17.1581481 L56.0648033,23.3844444 L56.0648033,23.3844444 Z" id="Fill-1"></path>
          <path d="M63.0598714,20.0359259 C63.0598714,20.472963 63.0965286,20.8364815 63.1694711,21.2005556 C63.5356719,22.6935185 64.8157,23.8216667 66.4254577,23.8216667 C68.8401873,23.8216667 70.2674028,21.8188889 70.2674028,18.7972222 C70.2674028,15.9574074 68.9864443,13.8088889 66.4989584,13.8088889 C64.9256719,13.8088889 63.5356719,14.9744444 63.1694711,16.6142593 C63.0965286,16.9035185 63.0598714,17.2687037 63.0598714,17.5962963 L63.0598714,20.0359259 Z M57.4993131,15.8492593 C57.4993131,13.5181481 57.4259985,11.5525926 57.3532422,9.87759259 L62.1825153,9.87759259 L62.4376277,12.3538889 L62.5111284,12.3538889 C63.8281859,10.4968519 65.8770869,9.47740741 68.4745447,9.47740741 C72.3890601,9.47740741 75.9005313,12.8635185 75.9005313,18.542963 C75.9005313,25.0231481 71.7668165,28.0812963 67.7797308,28.0812963 C65.620858,28.0812963 63.9375996,27.207963 63.1329999,26.0431481 L63.0598714,26.0431481 L63.0598714,34.8896296 L57.4993131,34.8896296 L57.4993131,15.8492593 Z" id="Fill-3"></path>
          <path d="M83.600294,5.0352037 L83.600294,9.87742593 L87.58831,9.87742593 L87.58831,13.9555741 L83.600294,13.9555741 L83.600294,20.4361296 C83.600294,22.5846481 84.1490369,23.5666852 85.7954519,23.5666852 C86.5637665,23.5666852 86.9297813,23.5302037 87.4414948,23.4215 L87.4788964,27.6077963 C86.7831521,27.8631667 85.4298094,28.0813148 83.8931802,28.0813148 C82.1003221,28.0813148 80.6005363,27.4624259 79.6857786,26.5531667 C78.6616072,25.4977963 78.1495216,23.7855741 78.1495216,21.2724259 L78.1495216,13.9555741 L75.7716353,13.9555741 L75.7716353,9.87742593 L78.1495216,9.87742593 L78.1495216,6.52798148 L83.600294,5.0352037 Z" id="Fill-5"></path>
          <polygon id="Fill-7" points="88.8572851 27.6812963 94.4178434 27.6812963 94.4178434 9.87759259 88.8572851 9.87759259"></polygon>
          <path d="M101.325641,20.1082778 C101.325641,20.4730926 101.361926,20.7990185 101.435799,21.0919815 C101.801069,22.5488333 103.08147,23.7136481 104.691041,23.7136481 C107.069672,23.7136481 108.5328,21.8929074 108.5328,18.6893889 C108.5328,15.9221667 107.288871,13.7373519 104.691041,13.7373519 C103.191069,13.7373519 101.801069,14.8662407 101.435799,16.4680926 C101.361926,16.7947593 101.325641,17.1227222 101.325641,17.4877222 L101.325641,20.1082778 Z M95.7647106,6.82938889 L101.325641,3.3255 L101.325641,11.9890185 L101.398769,11.9890185 C102.459226,10.4599444 104.325399,9.47753704 106.813443,9.47753704 C111.093229,9.47753704 114.203144,13.0080926 114.166487,18.4695741 C114.166487,24.8790185 110.105529,28.0814259 106.008471,28.0814259 C103.922727,28.0814259 101.87364,27.318463 100.630083,25.2051296 L100.557326,25.2051296 L100.337383,27.6812407 L95.6186396,27.6812407 C95.6921403,26.5164259 95.7647106,24.3693889 95.7647106,22.3653148 L95.7647106,6.82938889 Z" id="Fill-9"></path>
          <polygon id="Fill-10" points="115.147265 27.6811111 120.708568 27.6811111 120.708568 1.83185185 115.147265 1.83185185"></polygon>
          <path d="M133.755476,16.7225 C133.755476,15.4125 133.169704,13.1180556 130.645933,13.1180556 C128.268418,13.1180556 127.316445,15.2662037 127.171119,16.7225 L133.755476,16.7225 Z M127.207218,20.5086111 C127.390318,22.8397222 129.65786,23.9312037 132.255504,23.9312037 C134.157776,23.9312037 135.695149,23.6760185 137.194563,23.1660185 L137.92622,26.9165741 C136.096705,27.6812037 133.866006,28.045463 131.450532,28.045463 C125.377702,28.045463 121.902516,24.5493519 121.902516,18.9434259 C121.902516,14.4276852 124.756203,9.44083333 130.938447,9.44083333 C136.718576,9.44083333 138.914107,13.9180556 138.914107,18.3239815 C138.914107,19.2725 138.803949,20.1082407 138.731192,20.545463 L127.207218,20.5086111 Z" id="Fill-11"></path>
          <path d="M91.58563,8.12594444 C89.8309178,8.12594444 88.6960303,6.89242593 88.6960303,5.35168519 C88.6960303,3.77687037 89.8655282,2.57909259 91.6550369,2.57909259 C93.4438013,2.57909259 94.5446367,3.77687037 94.5785028,5.35168519 C94.5785028,6.89242593 93.4438013,8.12594444 91.6204265,8.12594444 L91.58563,8.12594444 Z" id="Fill-12"></path>
          <path d="M35.0541067,19.1163333 C34.1278122,17.8383704 32.7994039,16.8383704 31.1983918,16.3233704 C31.1209835,16.0368889 31.0268282,15.748 30.9133209,15.460963 C30.6310411,14.740037 30.2486515,14.0222593 29.811183,13.3642963 C29.6623209,13.1391111 29.504341,12.925963 29.3435699,12.7170741 C29.2929568,12.8817037 29.2404829,13.0467037 29.1762861,13.2085556 L29.1757278,13.210963 C29.106507,13.3887407 29.0268657,13.5587407 28.9435029,13.7261481 C28.7905471,14.0357778 28.6119126,14.3246667 28.414112,14.5985556 C28.2189166,14.8698519 28.0080906,15.1270741 27.7723303,15.3578148 C27.1711134,15.945963 26.4545284,16.3865185 25.6839809,16.6874444 C25.1696622,16.8889259 24.6311535,17.0318889 24.0740371,17.125963 C23.79827,17.1722593 23.5314347,17.2031852 23.2716703,17.2268889 C23.3835029,17.6917037 24.9979126,25.0739259 15.7208256,24.7146667 C15.6341134,24.7244815 15.5624735,24.7326296 15.5624735,24.7326296 C15.5572633,24.7404074 15.515768,27.4135556 13.3522432,27.5963333 C11.7629541,27.7311481 10.8837372,25.3861481 10.8548952,25.265037 C10.6427667,25.3754074 2.65259264,27.4091111 3.40062477,18.5181852 C3.06698755,18.7155926 2.96408661,18.8022593 2.66487376,19.0494815 C1.57464485,19.9476296 0.729480187,21.1717037 0.300757296,22.6183704 C0.0983048193,23.3039259 5.58232932e-05,23.9983704 5.58232932e-05,24.6804074 C0.000800133869,26.2742963 0.528516332,27.8007778 1.46206787,29.0465185 C2.39431687,30.2918889 3.73854177,31.2602222 5.35704511,31.7252222 C6.05092865,31.9254074 6.75281352,32.0211481 7.44278942,32.0211481 C9.06594471,32.020037 10.6169019,31.4865185 11.885021,30.5533704 C12.2787613,31.0726296 12.7298135,31.5511481 13.2476676,31.9668889 C14.0567332,32.615963 15.0096368,33.1194815 16.0697212,33.4246667 C16.8211027,33.6417037 17.5810438,33.7437407 18.3287037,33.7437407 C20.728361,33.7431852 22.9910652,32.6813333 24.5109474,30.8857778 C25.0870438,31.2396667 25.7152419,31.5294815 26.3961,31.7252222 L26.3953557,31.7252222 C27.1026368,31.9281852 27.8186636,32.025963 28.5246422,32.025963 C30.2560946,32.0254074 31.9203731,31.440963 33.2811589,30.4174444 C34.6421308,29.3952222 35.7044481,27.9274444 36.2269541,26.1628148 C36.4589929,25.3813333 36.5700813,24.5911481 36.5700813,23.8168889 C36.5691509,22.0985556 36.0256181,20.4561481 35.0541067,19.1163333 Z M25.0706876,6.55666667 C23.6220731,6.18296296 21.8295871,6.78425926 21.227626,7.61240741 C21.1297491,7.74648148 21.0255456,7.965 21.0582953,8.115 C21.2112511,8.82074074 22.3530236,8.44888889 22.3548843,8.44888889 C24.3278656,8.09185185 25.7197264,10.5459259 23.2521507,11.722037 C20.9072003,12.8392593 19.2377116,11.097037 18.8333649,10.7475926 C19.1130396,10.4190741 19.3610811,10.0594444 19.5732096,9.67351852 C20.0992511,8.71685185 20.4019995,7.59962963 20.4019995,6.40574074 C20.4019995,2.86777778 17.7505791,0 14.4802645,0 C11.2099499,0 8.55852959,2.86777778 8.55852959,6.40574074 C8.55852959,7.63333333 8.87858313,8.78018519 9.43216412,9.75462963 C9.64522303,10.1298148 9.89307845,10.4777778 10.1708924,10.7964815 C10.0196112,10.9433333 7.5445925,12.5116667 5.49978527,11.4588889 C4.70839705,11.0511111 4.39280937,10.2140741 4.75975448,9.46962963 C5.01989103,8.94222222 5.49755234,8.55833333 6.08518554,8.51796296 C7.5445925,8.41740741 7.26398742,7.425 6.71543052,7.1362963 C5.87566212,6.69462963 5.05729264,6.66351852 4.14737296,6.90796296 C2.29794726,7.40425926 1.40458849,9.30685185 1.5318656,10.8568519 C1.70324311,12.9472222 2.62711861,14.6042593 4.5939593,15.2907407 C5.89520027,15.7442593 7.2416581,15.7990741 8.59909451,15.5751852 C9.06503293,15.5 9.52110924,15.3622222 9.98183748,15.2531481 C9.99356037,15.2774074 8.84899679,15.977037 8.26266613,16.2994444 C7.75727925,16.5757407 7.21560723,16.8035185 6.74650549,17.1261111 C5.77778527,17.7927778 5.24057912,18.7155556 5.29026185,19.8590741 C5.34720161,21.1603704 5.98526185,22.2044444 7.10731004,22.9637037 C8.00383213,23.57 8.98929933,23.7755556 10.0590597,23.4074074 C11.3396461,22.9685185 12.130476,21.8188889 12.0147357,20.567037 C11.9944533,20.3475926 11.9328616,20.1312963 11.6743997,20.0587037 C11.43529,19.9918519 11.2479098,20.107037 11.1161668,20.2866667 C10.9879593,20.4622222 10.8843141,20.6553704 10.759642,20.8331481 C10.4950396,21.2138889 10.110045,21.2746296 9.73565676,20.9887037 C9.40164739,20.7348148 9.21780268,20.4018519 9.30060723,19.9918519 C9.38341178,19.5835185 9.66978527,19.335 10.1031601,19.2407407 C10.8720329,19.0755556 11.6539312,18.9461111 12.4086621,18.7318519 C13.8933756,18.3098148 14.932061,17.4201852 15.4175376,16.0042593 C15.4419138,15.932963 15.4882471,15.8687037 15.523788,15.7990741 C16.166128,16.1988889 16.7200811,16.9040741 16.9310932,17.5768519 C17.251891,18.5957407 16.8819687,19.3746296 15.8909191,19.8737037 C15.1856849,20.2294444 14.4791481,20.597037 13.8280624,21.0298148 C12.707875,21.7722222 12.480302,22.7783333 12.571294,24.0811111 C12.6922444,25.8181481 13.5924881,25.437963 13.5924881,25.437963 C13.7986621,25.3477778 13.9132859,25.0174074 13.9214734,24.7255556 C13.9510597,23.5237037 14.514875,22.8735185 15.6372953,22.7427778 C16.0446193,22.6940741 16.4606889,22.7083333 16.8702458,22.6659259 C17.9775938,22.5542593 19.0049285,22.2301852 19.9105684,21.6025926 C21.8560102,20.2553704 21.9151829,17.6187037 20.7709914,16.007963 C20.7136795,15.9275926 20.6608335,15.8459259 20.5810062,15.732037 C29.5795349,15.3657407 29.0808469,7.59037037 25.0706876,6.55666667 Z" id="Combined-Shape"></path>
          </g>
        </g>
      </svg>
      <h1>Welcome to Aptible Deploy!</h1>
    </header>

    <section class="app-input">
      <p class="welcome__subtitle">
        This application allows you to record a message. This message is written
        into a Redis queue, and then a background worker inserts the message
        into a PostgreSQL database.
      </p>

      <form method="POST">
        {% for message in form.message.errors %}
          <div class="form-error">{{ message }}</div>
        {% endfor %}
        <fieldset>
          {{ form.message }}
          {{ form.submit }}
          <p class="footnote">
            <label class="label-link" for="modal-checklist">
              Setup Checklist ({{checklist_complete}}/{{checklist_len}})</label>
          </p>
        </fieldset>
      </form>


      <p>
        The last 20 messages are pulled from the database and displayed below.
        You may need to refresh to see messages inserted by the worker.
      </p>
    </section>

    <section class="app-log">
      <table>
        <tbody>
        {% for message in messages %}
          <tr>
            <td>{{ message.time }}</td>
            <td>{{ message.text }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </section>

    <div class="modal">
      <input class="modal-open" type="checkbox" id="modal-checklist" hidden/>
      <div class="modal-wrap" aria-hidden="true" role="dialog">
        <label class="modal-overlay" for="modal-checklist"></label>
        <div class="modal-dialog">
          <div class="modal-header">
            <h3 class="modal-header__title">Setup Checklist</h3>
            <label class="btn-close" for="modal-checklist" aria-hidden="true">×</label>
            {% for step in status %}
              <a class="checklist__status"
                 data-status="{{step.status}}"
                 href="https://www.aptible.com/{{ step.docpath }}">{{ step.description }}</a>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
